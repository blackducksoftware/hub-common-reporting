language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "Il30m9lOY0KfRfSQ+jT3v6TltIgVPIwbI0OEa3IBIIytK68xTWlkRMz9L6JE+loTDIfQN7i4/qP2OQZbyfW6OkVugD11jdg76Pq93b9hHMk4INXKvHBIEQMmKRvLyHmYhtoryoXdAplCfwTVJA++efNyRl0NM4swcnMNiVHvXBREXfCeIVcL/33awvWkcL9/cNtQBhCPZnCeSRRuwJqNfeJz+IBOr2hHnnrsD54dFr/T73rjoWIBjCV0jCWf/wTG8q814Hv9crQcZdfKjJGsRZWQCMAmzRJLN3dg9Ysa+mST1bUQz14PviDC9h9aV182LAfda+YDlVynrvQxvWaLiXmbXai1wSZH8fdRYYTFGh4lpBo0KAw0PaLf876XP+ZGCSRXSjQhIGdRyq3Mz9/1I8GiYdxdsB7mNTfku7kj2KuPXzV+vIvwxhNqBzVTjnHGIQo5a9qbrlQZAvpTkRQLgK4CHEnbq3p/sxMUiKEJ6jp3Qg/NsazMa+ypEqJeRf3D55CDi6q8CJuwIL1h8WqOW8SN0tQ70QVBcQQgJdPu3kBPosbHtT9/CkdR4Hl8Bv7JJStqBKjFwJ+QxFMB9HsghwlS4Py0I+i5jsZeNVkcUACc24DZn6Bim4v+gvffDsDjHEezMS1OjIqXZCANS91Nto+ITeLBtvQpi0JA/TE+Mgg="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
